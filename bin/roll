#!/usr/bin/env ruby
#driver program for Dieroll::Roll.string
$:.unshift File.join(File.dirname(__FILE__), '..', 'lib')
require 'dieroll.rb'
require 'optparse'
options = {}

optparse = OptionParser.new do |opts|
  opts.banner = "Usage: roll [-r] <roll_string>"
  
  options[:results] = false
  opts.on('-r','--results','Show full roll results' ) do
    options[:results] = true
  end

  opts.on('-h','--help','Display this screen') do
    puts opts
    exit
  end

end

optparse.parse!

string = ARGV.shift

dice = Dieroll::Roll.new(string)

puts dice.roll
puts dice if options[:results]
